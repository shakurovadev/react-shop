{"version":3,"sources":["components/Header.jsx","components/Footer.jsx","components/Preloader.jsx","components/GoodsItem.jsx","components/GoodList.jsx","components/Cart.jsx","components/BasketItem.jsx","components/BasketList.jsx","components/Alert.jsx","components/Shop.jsx","config.js","App.js","index.js"],"names":["Header","className","href","id","Footer","Date","getFullYear","Preloader","GoodsItem","props","mainId","displayName","displayDescription","granted","price","addToBasket","Function","prototype","src","images","background","alt","onClick","finalPrice","GoodList","goods","length","map","item","Cart","quantity","handleBasketShow","BasketItem","removeFromBasket","incQuantity","decQuantity","BasketList","order","totalPrice","reduce","sum","el","class","Alert","name","closeAlert","useEffect","timerId","setTimeout","clearTimeout","Shop","useState","setGoods","loading","setLoading","setOrder","isBasketShow","setBasketShow","alertName","setAlertName","fetch","headers","Authorization","process","then","response","json","data","shop","itemIndex","findIndex","orderItem","newItem","newOrder","index","itemId","filter","newQuantity","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.1da09a46.chunk.js","sourcesContent":["function Header() {\n    return (\n        <nav className='green darken-1'>\n            <div className='nav-wrapper'>\n                <a href='#' className='brand-logo'>\n                    React Shop\n                </a>\n                <ul id='nav-mobile' className='right hide-on-med-and-down'>\n                    <li>\n                        <a href='!#'>Repo</a>\n                    </li>\n                </ul>\n            </div>\n        </nav>\n    );\n}\n\nexport { Header };\n","function Footer() {\n    return (\n        <footer className='page-footer green lighten-4'>\n            <div className='footer-copyright'>\n                <div className='container'>\n                    © {new Date().getFullYear()} Copyright Text\n                    <a className='grey-text text-lighten-4 right' href='#!'>\n                        Repo\n                    </a>\n                </div>\n            </div>\n        </footer>\n    );\n}\n\nexport { Footer };\n","function Preloader() {\n    return (\n        <div className='progress'>\n            <div className='indeterminate'></div>\n        </div>\n    );\n}\n\nexport { Preloader };\n","function GoodsItem(props) {\n    const {\n        mainId,\n        displayName,\n        displayDescription,\n        granted,\n        price,\n        addToBasket = Function.prototype,\n    } = props;\n    return (\n        <div className='card'>\n            <div className='card-image'>\n                <img src={granted[0].images.background} alt={displayName} />\n                <span className='card-title'>{displayName}</span>\n            </div>\n            <div className='card-content'>\n                <p>{displayDescription}</p>\n            </div>\n            <div className='card-action'>\n                <button\n                    className='btn'\n                    onClick={() =>\n                        addToBasket({\n                            mainId,\n                            displayName,\n                            price,\n                        })\n                    }\n                >\n                    Купить\n                </button>\n                <span className='right'>{price.finalPrice}</span>\n            </div>\n        </div>\n    );\n}\n\nexport { GoodsItem };\n","import { GoodsItem } from './GoodsItem';\n\nfunction GoodList(props) {\n    const { goods = [], addToBasket = Function.prototype } = props;\n\n    if (!goods.length) {\n        return <h3>Nothing here</h3>;\n    }\n\n    return (\n        <div className='goods'>\n            {goods.map((item) => (\n                <GoodsItem\n                    key={item.mainId}\n                    {...item}\n                    addToBasket={addToBasket}\n                />\n            ))}\n        </div>\n    );\n}\n\nexport { GoodList };\n","function Cart(props) {\n    const { quantity = 0, handleBasketShow = Function.prototype } = props;\n    return (\n        <div\n            className='cart light-blue darken-4 white-text'\n            onClick={handleBasketShow}\n        >\n            <i className='material-icons'>shopping_cart</i>\n            {quantity ? (\n                <span className='cart-quantity'>{quantity}</span>\n            ) : null}\n        </div>\n    );\n}\n\nexport { Cart };\n","function BasketItem(props) {\n    const {\n        mainId,\n        displayName,\n        price,\n        quantity,\n        removeFromBasket = Function.prototype,\n        incQuantity = Function.prototype,\n        decQuantity = Function.prototype,\n    } = props;\n\n    return (\n        <li className='collection-item'>\n            {displayName} x{' '}\n            <i\n                className='material-icons basket-quantity'\n                onClick={() => decQuantity(mainId)}\n            >\n                remove\n            </i>\n            {quantity}\n            <i\n                className='material-icons basket-quantity'\n                onClick={() => incQuantity(mainId)}\n            >\n                add\n            </i>{' '}\n            = {price.finalPrice * quantity} руб.\n            <span\n                className='secondary-content'\n                onClick={() => removeFromBasket(mainId)}\n            >\n                <i className='material-icons basket-delete'>clear</i>\n            </span>\n        </li>\n    );\n}\n\nexport { BasketItem };\n","import { BasketItem } from './BasketItem';\n\nfunction BasketList(props) {\n    const {\n        order = [],\n        handleBasketShow = Function.prototype,\n        removeFromBasket = Function.prototype,\n        incQuantity = Function.prototype,\n        decQuantity = Function.prototype,\n    } = props;\n    const totalPrice = order.reduce((sum, el) => {\n        return sum + el.price.finalPrice * el.quantity;\n    }, 0);\n\n    return (\n        <ul className='collection basket-list'>\n            <li className='collection-item active'>Корзина</li>\n            {order.length ? (\n                order.map((item) => (\n                    <BasketItem\n                        key={item.mainId}\n                        {...item}\n                        removeFromBasket={removeFromBasket}\n                        incQuantity={incQuantity}\n                        decQuantity={decQuantity}\n                    />\n                ))\n            ) : (\n                <li className='collection-item'>Корзина пуста</li>\n            )}\n            <li className='collection-item'>\n                Общая стоимость: {totalPrice} руб.\n                <span className='secondary-content'>\n                    <a class='waves-effect waves-light btn-small'>Оформить</a>\n                </span>\n            </li>\n            <i\n                className='material-icons basket-clear'\n                onClick={handleBasketShow}\n            >\n                clear\n            </i>\n        </ul>\n    );\n}\n\nexport { BasketList };\n","import { useEffect } from 'react';\n\nfunction Alert(props) {\n    const { name = '', closeAlert = Function.prototype } = props;\n\n    useEffect(() => {\n        const timerId = setTimeout(closeAlert, 3000);\n\n        return () => {\n            clearTimeout(timerId);\n        };\n    }, [name]);\n\n    return (\n        <div id='toast-container'>\n            <div className='toast'>{name} добавлен в корзину</div>\n        </div>\n    );\n}\n\nexport { Alert };\n","import React, { useState, useEffect } from 'react';\nimport { API_KEY, API_URL } from '../config';\n\nimport { Preloader } from './Preloader';\nimport { GoodList } from './GoodList';\nimport { Cart } from './Cart';\nimport { BasketList } from './BasketList';\nimport { Alert } from './Alert';\n\nfunction Shop() {\n    const [goods, setGoods] = useState([]);\n    const [loading, setLoading] = useState(true);\n    const [order, setOrder] = useState([]);\n    const [isBasketShow, setBasketShow] = useState(false);\n    const [alertName, setAlertName] = useState('');\n\n    const handleBasketShow = () => {\n        setBasketShow(!isBasketShow);\n    };\n\n    const addToBasket = (item) => {\n        const itemIndex = order.findIndex(\n            (orderItem) => orderItem.mainId === item.mainId\n        );\n\n        if (itemIndex < 0) {\n            const newItem = { ...item, quantity: 1 };\n\n            setOrder([...order, newItem]);\n        } else {\n            const newOrder = order.map((orderItem, index) => {\n                if (index === itemIndex) {\n                    return {\n                        ...orderItem,\n                        quantity: orderItem.quantity + 1,\n                    };\n                } else {\n                    return { ...orderItem };\n                }\n            });\n\n            setOrder(newOrder);\n        }\n        setAlertName(item.displayName);\n    };\n\n    const removeFromBasket = (itemId) => {\n        const newOrder = order.filter((el) => el.mainId !== itemId);\n        setOrder(newOrder);\n    };\n\n    const incQuantity = (itemId) => {\n        const newOrder = order.map((el) => {\n            if (el.mainId === itemId) {\n                const newQuantity = el.quantity + 1;\n                return {\n                    ...el,\n                    quantity: newQuantity,\n                };\n            } else {\n                return el;\n            }\n        });\n        setOrder(newOrder);\n    };\n\n    const decQuantity = (itemId) => {\n        const newOrder = order.map((el) => {\n            if (el.mainId === itemId) {\n                const newQuantity = el.quantity - 1;\n                return {\n                    ...el,\n                    quantity: newQuantity >= 0 ? newQuantity : 0,\n                };\n            } else {\n                return el;\n            }\n        });\n        setOrder(newOrder);\n    };\n\n    const closeAlert = () => {\n        setAlertName('');\n    };\n\n    useEffect(function getGoods() {\n        fetch(API_URL, {\n            headers: {\n                Authorization: API_KEY,\n            },\n        })\n            .then((response) => response.json())\n            .then((data) => {\n                data.shop && setGoods(data.shop);\n                setLoading(false);\n            });\n    }, []);\n    return (\n        <main className='container content'>\n            <Cart quantity={order.length} handleBasketShow={handleBasketShow} />\n            {loading ? (\n                <Preloader />\n            ) : (\n                <GoodList goods={goods} addToBasket={addToBasket} />\n            )}\n            {isBasketShow && (\n                <BasketList\n                    order={order}\n                    handleBasketShow={handleBasketShow}\n                    removeFromBasket={removeFromBasket}\n                    incQuantity={incQuantity}\n                    decQuantity={decQuantity}\n                />\n            )}\n            {alertName && <Alert name={alertName} closeAlert={closeAlert} />}\n        </main>\n    );\n}\n\nexport { Shop };\n","const API_KEY = process.env.REACT_APP_API_KEY;\n\nconst API_URL = 'https://fortniteapi.io/v2/shop?lang=ru';\nexport { API_KEY, API_URL };\n","import { Header } from './components/Header';\nimport { Footer } from './components/Footer';\nimport { Shop } from './components/Shop';\n\nfunction App() {\n    return (\n        <>\n            <Header />\n            <Shop />\n            <Footer />\n        </>\n    );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n"],"sourceRoot":""}